---
layout: post
title: 安装ArchLinux在U盘
thread: 29
categories: archlinux
tags: archlinux
---

arch的安装不是很难，但确实很繁琐。这次打算把系统做在U盘上，重做系统略有些心得，在此略记一二。

####安装须知 

从官网下的镜像需要在安装时联网，这时就需要在安装时先查看本地网卡是否被默认加载的驱动支持，这次我正巧遇到无线网卡不被支持的情况。故此这回提出来。  

查看本地网卡接口信息命令：ip link ; iw dev (无线)

对于网卡没有被默认驱动支持，wiki上也有解决之法，故在此不提。

####安装注意 

同安装arch在本地硬盘上一样，很多都相同。在此提一些需注意的地方。（本来我没打算重复写的，因为当时都写在wiki去了，可能是第一次写，没懂更多他们的格式，他们重写了。把我提到需注意的地方去掉了，或者他们认为大家都懂吧。不过也终于把原wiki错误的地方去了）  

如果把arch装在移动设备，那么该移动硬盘在不同的机器上很可能有不同的设备号（sdx,x的序号不同），那么这时我们就需要注意一些地方了。

- 在生成fstacb。在把系统安装到移动设备上，那么一定要以UUID的方式生成fstab。  

   	 	 # genfstab -U -p /mnt >> /mnt/etc/fstab
  		 # nano /mnt/etc/fstab
  	 
 如以设备号的方式生成（参数中没有 -U ），那么很可能在其他的机器上就会因为挂在不了分区信息，而造成启动不了系统。

- 因为系统在移动设备，那么最好优化启动。修改 /etc/mkinitcpio.conf 在HOOKS的udev后 加入usb。

- 要在不同的机器上启动该U盘系统，则在该U盘上安装启动器。我则安装的是grub,然后用命令自动生成配置就好。

		# grub-mkconfig -o /boot/grub/grub.cfg

ps: 安装 os-prober 可以用来启动不同的系统，但对于U盘系统来说，这个却不实用，因为U盘系统的运行的不确定性嘛，唯一确定的就是本U盘系统。

- 首次编辑于： 2014-06-13
