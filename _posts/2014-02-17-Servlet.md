---
layout: post
title: Servelt学习之tomcat配置
thread: 21
categories: 记录
tags: tomcat
---


       环境：archLinux    bit：64

  对于arch的用户，可以直接pacman tomcat包，这样安装的tomcat不需要多做设置就直接能用。  
  
  但同时，对于arch用zip的包，则会出现某些问题。  
  
  我们pacman安装的eclipse,是没有去设置就能用的。这就会让我们用tomcat的zip包会出部分问题
  
  所以我们则需要进行手动的配置才能被我们所使用。
  
  这里我用apache-tomcat-6.0.37 包做演示
  
  - 首先解压zip包到相应目录，这里我解压到Servlet目录
  - 进入tomcat的bin目录，更改相应的权限
         [mugya@arch bin]$ chmod +x startup.sh catalina.sh
    这时我们去启动startup时，是会出现下面错误的：

        error:
           [mugya@arch bin]$ sudo ./startup.sh 
			The BASEDIR environment variable is not defined correctly
			This environment variable is needed to run this program
    在 setclasspath.sh 里可以找到如下代码：
		if [ ! -x "$BASEDIR"/bin/setclasspath.sh ]; then
          if $os400; then
            # -x will Only work on the os400 if the files are:
            # 1. owned by the user
            # 2. owned by the PRIMARY group of the user
            # this will not work if the user belongs in secondary groups
            eval
          else
            echo "The BASEDIR environment variable is not defined correctly"
            echo "This environment variable is needed to run this program"
            exit 1
           fi
        fi

    究其原因：是因为pacman安装的eclipse自动寻找到jre路径。  
    
    但这里我们用tomcat的zip包却不能自动找到其路径。所以我们需要手动更改
    
         [mugya@arch bin]$ chmod +x setclasspath.sh 

- 最后我们启动
        [mugya@arch bin]$ sudo ./startup.sh 
        Using CATALINA_BASE:   /home/mugya/servlet/apache-tomcat-6.0.37
        Using CATALINA_HOME:   /home/mugya/servlet/apache-tomcat-6.0.37
        Using CATALINA_TMPDIR: /home/mugya/servlet/apache-tomcat-6.0.37/temp
        Using JRE_HOME:        /usr
        Using CLASSPATH:       /home/mugya/servlet/apache-tomcat-6.0.37/bin/bootstrap.jar

出现上述代码，则表明tomcat已经启动。

至于关闭tomcat服务，需要把shutdown.sh 加可执行权限就可。






