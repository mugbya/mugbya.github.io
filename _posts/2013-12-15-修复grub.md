---
layout: post
title: 修复被win7覆盖的grub
thread: 12
categories: 记录
tags: grub 
---

    环境：archlinux && win7 
    
事故简述：之前我的 arch 与 win7 都相安无事。某天的因事做掉win7，重新安装win7时却出现 “win7 安装程序无法配置在我的机器上”，这个东西折腾我很久。最后经过重置引导记录，终于将win7重新安装回来了，但是重启才发现我的arch不见了，折腾了很久，终于搞定，最后感谢下 <code><a href="http://gujiaxi.github.io/about/" target="_blank">Isaac</a> </code>  我是参照他的博文恢复的。
   
   
首先，找张Live CD盘，引导进去，然后挂载原来Linux的分区，再chroot进去：

    mount /dev/sda8 /mnt          // 这里的sda8是我Arch的根分区
    mkdir -p /mnt/boot            // 我的boot是单独分区的
    mount /dev/sda2 /mnt/boot     // sda2 是boot分区
    arch-chroot /mnt
    
然后用grub相关命令来产生配置文件：

    grub-mkconfig -o /boot/grub/grub.cfg 
    
    
注意：如果boot被单独分区，是要挂在出来的，不然grub是检索不到你已经装好的系统！！！
