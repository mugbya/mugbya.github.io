---
layout: post
title: Simple question, stupid man
thread: 26
categories: 记录
tags: 折腾
---

I'm stupid, so I should be more diligent, to learn from others.  

I encountered some problems when importing external css styles，css style   can't be parsed.  

My directory file structure is as follows:

        --WebContent
           --css
            |--mycss.css
           --images
            |--***.jpg
           --js
            |--***.js
           --WEB-INF
            |--lib
            |--main
               |--left.jsp
            |--subject
               |--listSubject.jsp
               
I import the file in <code>listSubject.jsp</code> in <code>mycss.css</code> : <code>href="../css/mycss.css"</code>.  

The introduction of external public jsp files <code>listSubject.jsp</code> also in accordance with such written : <code><%@include file="../main/left.jsp"%></code>  

The results did not import the relevant css styles come in, and part of the public but jsp import came.Both are in accordance with the directory structure of the file to be relative to the position. Differences have emerged.   

Finally, with the help of dong,I have the proceeds.  

For the import of the JSP file, it is on the server to perform parsing and then import the file path.  

And resource files, such as: js, pictures, etc. We can directly through the path to access. eg：http://localhost:8080/tms/css/mycss.css   

But after being introduced to the JSP page in the browser is based on the server's response to parse path.Resource files or the original path, but those jsp file directory structure is not the path to the corresponding.As for the reason: we can combine the struts configuration file view.  

In the <code>struts-subject.xml</code> I have so wrote:

	<package name="subject" namespace="/subject" extends="tms">
	    <action name="listSubject" class="listSubjectAction">
	    	<result name="success">/WEB-INF/subject/listSubject.jsp</result>
            
You can see <code>listSubject</code>  namespace is <code>/subject</code>, after the successful implementation of action, it is forwarded to listSubject.jsp.The full path to the implementation of action is: http://localhost:8080/tms/subject/listSubject (Where tms is the project name)  

As can be seen from this path is not associated with <code>WEB-INF</code>. So we simply follow the directory structure to find the resource file will be wrong.  

Of course, if you do not use this part of struts configuration file, written in the <code>WEB-INF</code> jsp outside, then this problem would not exist.  


Finally, in general: the path of the resource file is unchanged, for the protected jsp pages into it ((Ie placed in <code>WEN-INF</code>) we need to pay attention jsp current path relative to the root directory.  
 
